"use strict";
var _ = require("lodash");
var rpj = require("request-promise-json");
module.exports = (function () {
    function AuClients() {
        this.all = [];
        this.forserial = function (serial) {
            var a = [];
            _.map(this.all, function (s) {
                _.map(s.serials, function (ss) {
                    if (ss === serial) {
                        a.push(s.id);
                    }
                });
            });
            return a;
        };
    }
    AuClients.prototype.add = function (serials, sid) {
        this.all.push({ id: sid, serials: serials });
    };
    ;
    AuClients.prototype.remove = function (sid) {
        var all = this.all;
        _.map(this.all, function (s) {
            if (s.id === sid) {
                _.pull(all, s);
            }
        });
    };
    ;
    return AuClients;
}());

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvYXVkQ2xpZW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBWSxDQUFDLFdBQU0sUUFBUSxDQUFDLENBQUE7QUFFNUIsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLHNCQUFzQixDQUFDLENBQUM7QUFPMUMsaUJBQVM7SUFBQTtRQUVMLFFBQUcsR0FBZSxFQUFFLENBQUM7UUFpQnJCLGNBQVMsR0FBRyxVQUFTLE1BQU07WUFDdkIsSUFBSSxDQUFDLEdBQWEsRUFBRSxDQUFDO1lBQ3JCLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxVQUFTLENBQVc7Z0JBQ2hDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxVQUFTLEVBQUU7b0JBQ3hCLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDO3dCQUNoQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztvQkFDakIsQ0FBQztnQkFDTCxDQUFDLENBQUMsQ0FBQztZQUNQLENBQUMsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNiLENBQUMsQ0FBQztJQUNOLENBQUM7SUF6QkcsdUJBQUcsR0FBSCxVQUFJLE9BQWlCLEVBQUUsR0FBVztRQUM5QixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFFakQsQ0FBQzs7SUFDRCwwQkFBTSxHQUFOLFVBQU8sR0FBRztRQUNOLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7UUFDbkIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLFVBQVMsQ0FBVztZQUNoQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ2YsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDbkIsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBRVAsQ0FBQzs7SUFhTCxnQkFBQztBQUFELENBOUJTLEFBOEJSLEdBQUEsQ0FBQSIsImZpbGUiOiJtb2R1bGVzL2F1ZENsaWVudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCAqIGFzIFByb21pc2UgZnJvbSBcImJsdWViaXJkXCI7XG5sZXQgcnBqID0gcmVxdWlyZShcInJlcXVlc3QtcHJvbWlzZS1qc29uXCIpO1xuXG5pbnRlcmZhY2UgSUNsaWVudHMge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgc2VyaWFsczogc3RyaW5nW107XG59XG5cbmV4cG9ydCA9IGNsYXNzIEF1Q2xpZW50cyB7XG5cbiAgICBhbGw6IElDbGllbnRzW10gPSBbXTtcblxuXG4gICAgYWRkKHNlcmlhbHM6IHN0cmluZ1tdLCBzaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLmFsbC5wdXNoKHsgaWQ6IHNpZCwgc2VyaWFsczogc2VyaWFscyB9KTtcblxuICAgIH07XG4gICAgcmVtb3ZlKHNpZCk6IHZvaWQge1xuICAgICAgICBsZXQgYWxsID0gdGhpcy5hbGw7XG4gICAgICAgIF8ubWFwKHRoaXMuYWxsLCBmdW5jdGlvbihzOiBJQ2xpZW50cykge1xuICAgICAgICAgICAgaWYgKHMuaWQgPT09IHNpZCkge1xuICAgICAgICAgICAgICAgIF8ucHVsbChhbGwsIHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICBmb3JzZXJpYWwgPSBmdW5jdGlvbihzZXJpYWwpOiBzdHJpbmdbXSB7XG4gICAgICAgIGxldCBhOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBfLm1hcCh0aGlzLmFsbCwgZnVuY3Rpb24oczogSUNsaWVudHMpIHtcbiAgICAgICAgICAgIF8ubWFwKHMuc2VyaWFscywgZnVuY3Rpb24oc3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3MgPT09IHNlcmlhbCkge1xuICAgICAgICAgICAgICAgICAgICBhLnB1c2gocy5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9O1xufVxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
